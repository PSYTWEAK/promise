{"ast":null,"code":"var _jsxFileName = \"/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js\";\nimport React, { useEffect } from \"react\";\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\nexport default function CreatePromise(props) {\n  useEffect(() => {\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n\n  async function createPromise() {\n    await prom.methods.createPromise(amountA.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetA, amountB.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetB, time.toString()).send({\n      from: account\n    }).then(result => {\n      console.log(\"created promise \" + result.hash);\n      setAssetA(null);\n      setAssetB(null);\n      setAmountA(null);\n      setAmountB(null);\n      setTime(null);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Create a Promise\"), React.createElement(PromiseInput, {\n    setAssetA: a => props.setAssetA(a),\n    setAssetB: a => props.setAssetB(a),\n    setAmountA: a => props.setAmountA(a),\n    setAmountB: a => props.setAmountB(a),\n    setTime: t => props.setTime(t),\n    balanceAssetA: props.balanceAssetA,\n    assetADeclimals: props.assetADeclimals,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(CreatePromiseButton, {\n    createPromise: () => props.createPromise(),\n    approve: () => props.approve(),\n    approved: props.approved,\n    balanceAssetA: props.balanceAssetA,\n    amountA: props.amountA,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js"],"names":["React","useEffect","PromiseInput","CreatePromiseButton","CreatePromise","props","assetA","assetInstance","checkBalance","checkAllowance","web3","utils","isAddress","createTokenInstance","amountA","createPromise","prom","methods","toLocaleString","useGrouping","amountB","assetB","time","toString","send","from","account","then","result","console","log","hash","setAssetA","setAssetB","setAmountA","setAmountB","setTime","a","t","balanceAssetA","assetADeclimals","approve","approved"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,mBAAP,MAAgC,sCAAhC;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC3CJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,MAAJ,EAAY;AACV,UAAIC,aAAJ,EAAmB;AACjBC,QAAAA,YAAY;AACZC,QAAAA,cAAc;AACf,OAHD,MAGO,IAAIC,IAAI,CAACC,KAAL,CAAWC,SAAX,CAAqBN,MAArB,CAAJ,EAAkC;AACvCO,QAAAA,mBAAmB;AACpB;AACF;AACF,GATQ,EASN,CAACP,MAAD,EAASQ,OAAT,CATM,CAAT;;AAUA,iBAAeC,aAAf,GAA+B;AAC7B,UAAMC,IAAI,CAACC,OAAL,CACHF,aADG,CAEFD,OAAO,CAACI,cAAR,CAAuB,UAAvB,EAAmC;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAnC,CAFE,EAGFb,MAHE,EAIFc,OAAO,CAACF,cAAR,CAAuB,UAAvB,EAAmC;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAnC,CAJE,EAKFE,MALE,EAMFC,IAAI,CAACC,QAAL,EANE,EAQHC,IARG,CAQE;AAAEC,MAAAA,IAAI,EAAEC;AAAR,KARF,EASHC,IATG,CASGC,MAAD,IAAY;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBF,MAAM,CAACG,IAAxC;AACAC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAC,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAC,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAhBG,CAAN;AAiBD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,YAAD;AACE,IAAA,SAAS,EAAGC,CAAD,IAAOhC,KAAK,CAAC2B,SAAN,CAAgBK,CAAhB,CADpB;AAEE,IAAA,SAAS,EAAGA,CAAD,IAAOhC,KAAK,CAAC4B,SAAN,CAAgBI,CAAhB,CAFpB;AAGE,IAAA,UAAU,EAAGA,CAAD,IAAOhC,KAAK,CAAC6B,UAAN,CAAiBG,CAAjB,CAHrB;AAIE,IAAA,UAAU,EAAGA,CAAD,IAAOhC,KAAK,CAAC8B,UAAN,CAAiBE,CAAjB,CAJrB;AAKE,IAAA,OAAO,EAAGC,CAAD,IAAOjC,KAAK,CAAC+B,OAAN,CAAcE,CAAd,CALlB;AAME,IAAA,aAAa,EAAEjC,KAAK,CAACkC,aANvB;AAOE,IAAA,eAAe,EAAElC,KAAK,CAACmC,eAPzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAWE,oBAAC,mBAAD;AACE,IAAA,aAAa,EAAE,MAAMnC,KAAK,CAACU,aAAN,EADvB;AAEE,IAAA,OAAO,EAAE,MAAMV,KAAK,CAACoC,OAAN,EAFjB;AAGE,IAAA,QAAQ,EAAEpC,KAAK,CAACqC,QAHlB;AAIE,IAAA,aAAa,EAAErC,KAAK,CAACkC,aAJvB;AAKE,IAAA,OAAO,EAAElC,KAAK,CAACS,OALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF;AAqBD","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\n\nexport default function CreatePromise(props) {\n  useEffect(() => {\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n  async function createPromise() {\n    await prom.methods\n      .createPromise(\n        amountA.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetA,\n        amountB.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetB,\n        time.toString()\n      )\n      .send({ from: account })\n      .then((result) => {\n        console.log(\"created promise \" + result.hash);\n        setAssetA(null);\n        setAssetB(null);\n        setAmountA(null);\n        setAmountB(null);\n        setTime(null);\n      });\n  }\n\n  return (\n    <div>\n      <p>Create a Promise</p>\n      <PromiseInput\n        setAssetA={(a) => props.setAssetA(a)}\n        setAssetB={(a) => props.setAssetB(a)}\n        setAmountA={(a) => props.setAmountA(a)}\n        setAmountB={(a) => props.setAmountB(a)}\n        setTime={(t) => props.setTime(t)}\n        balanceAssetA={props.balanceAssetA}\n        assetADeclimals={props.assetADeclimals}\n      />\n      <CreatePromiseButton\n        createPromise={() => props.createPromise()}\n        approve={() => props.approve()}\n        approved={props.approved}\n        balanceAssetA={props.balanceAssetA}\n        amountA={props.amountA}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}