{"ast":null,"code":"var _jsxFileName = \"/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js\";\nimport React, { useEffect } from \"react\";\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\nexport default function CreatePromise({\n  web3,\n  prom,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  createPromise,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  amountA\n}) {\n  useEffect(() => {\n    if (props.assetA) {\n      if (props.assetInstance) {\n        props.checkBalance();\n        props.checkAllowance();\n      } else if (props.web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [props.assetA, props.amountA]);\n\n  async function createPromise() {\n    await props.prom.methods.createPromise(props.amountA.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), props.assetA, props.amountB.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), props.assetB, props.time.toString()).send({\n      from: account\n    }).then(result => {\n      console.log(\"created promise \" + result.hash);\n      props.setAssetA(null);\n      props.setAssetB(null);\n      props.setAmountA(null);\n      props.setAmountB(null);\n      props.setTime(null);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Create a Promise\"), React.createElement(PromiseInput, {\n    setAssetA: a => props.setAssetA(a),\n    setAssetB: a => props.setAssetB(a),\n    setAmountA: a => props.setAmountA(a),\n    setAmountB: a => props.setAmountB(a),\n    setTime: t => props.setTime(t),\n    balanceAssetA: props.balanceAssetA,\n    assetADeclimals: props.assetADeclimals,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(CreatePromiseButton, {\n    createPromise: () => createPromise(),\n    approve: () => props.approve(),\n    approved: props.approved,\n    balanceAssetA: props.balanceAssetA,\n    amountA: props.amountA,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js"],"names":["React","useEffect","PromiseInput","CreatePromiseButton","CreatePromise","web3","prom","setAssetA","setAssetB","setAmountA","setAmountB","setTime","createPromise","approve","createTokenInstance","checkAllowance","checkBalance","approved","balanceAssetA","assetADeclimals","amountA","props","assetA","assetInstance","utils","isAddress","methods","toLocaleString","useGrouping","amountB","assetB","time","toString","send","from","account","then","result","console","log","hash","a","t"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\n\nexport default function CreatePromise({\n  web3,\n  prom,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  createPromise,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  amountA,\n}) {\n  useEffect(() => {\n    if (props.assetA) {\n      if (props.assetInstance) {\n        props.checkBalance();\n        props.checkAllowance();\n      } else if (props.web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [props.assetA, props.amountA]);\n\n  async function createPromise() {\n    await props.prom.methods\n      .createPromise(\n        props.amountA.toLocaleString(\"fullwide\", { useGrouping: false }),\n        props.assetA,\n        props.amountB.toLocaleString(\"fullwide\", { useGrouping: false }),\n        props.assetB,\n        props.time.toString()\n      )\n      .send({ from: account })\n      .then((result) => {\n        console.log(\"created promise \" + result.hash);\n        props.setAssetA(null);\n        props.setAssetB(null);\n        props.setAmountA(null);\n        props.setAmountB(null);\n        props.setTime(null);\n      });\n  }\n\n  return (\n    <div>\n      <p>Create a Promise</p>\n      <PromiseInput\n        setAssetA={(a) => props.setAssetA(a)}\n        setAssetB={(a) => props.setAssetB(a)}\n        setAmountA={(a) => props.setAmountA(a)}\n        setAmountB={(a) => props.setAmountB(a)}\n        setTime={(t) => props.setTime(t)}\n        balanceAssetA={props.balanceAssetA}\n        assetADeclimals={props.assetADeclimals}\n      />\n      <CreatePromiseButton\n        createPromise={() => createPromise()}\n        approve={() => props.approve()}\n        approved={props.approved}\n        balanceAssetA={props.balanceAssetA}\n        amountA={props.amountA}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}