{"ast":null,"code":"var _jsxFileName = \"/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js\";\nimport React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\nexport default function CreatePromise({\n  web3,\n  prom,\n  assetA,\n  assetB,\n  amountB,\n  amountA,\n  time,\n  account,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  assetInstance,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance\n}) {\n  useEffect(() => {\n    useLocation();\n\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n\n  async function createPromise() {\n    await prom.methods.createPromise(amountA.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetA, amountB.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetB, time.toString()).send({\n      from: account\n    }).then(result => {\n      console.log(\"created promise \" + result.hash);\n      setAssetA(null);\n      setAssetB(null);\n      setAmountA(null);\n      setAmountB(null);\n      setTime(null);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Create a Promise\"), React.createElement(PromiseInput, {\n    setAssetA: a => setAssetA(a),\n    setAssetB: a => setAssetB(a),\n    setAmountA: a => setAmountA(a),\n    setAmountB: a => setAmountB(a),\n    setTime: t => setTime(t),\n    balanceAssetA: balanceAssetA,\n    assetADeclimals: assetADeclimals,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(CreatePromiseButton, {\n    createPromise: () => createPromise(),\n    approve: () => approve(),\n    approved: approved,\n    balanceAssetA: balanceAssetA,\n    amountA: amountA,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js"],"names":["React","useEffect","useLocation","PromiseInput","CreatePromiseButton","CreatePromise","web3","prom","assetA","assetB","amountB","amountA","time","account","approved","balanceAssetA","assetADeclimals","assetInstance","setAssetA","setAssetB","setAmountA","setAmountB","setTime","approve","createTokenInstance","checkAllowance","checkBalance","utils","isAddress","createPromise","methods","toLocaleString","useGrouping","toString","send","from","then","result","console","log","hash","a","t"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\n\nexport default function CreatePromise({\n  web3,\n  prom,\n  assetA,\n  assetB,\n  amountB,\n  amountA,\n  time,\n  account,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  assetInstance,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance,\n}) {\n  useEffect(() => {\n    useLocation();\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n\n  async function createPromise() {\n    await prom.methods\n      .createPromise(\n        amountA.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetA,\n        amountB.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetB,\n        time.toString()\n      )\n      .send({ from: account })\n      .then((result) => {\n        console.log(\"created promise \" + result.hash);\n        setAssetA(null);\n        setAssetB(null);\n        setAmountA(null);\n        setAmountB(null);\n        setTime(null);\n      });\n  }\n\n  return (\n    <div>\n      <p>Create a Promise</p>\n      <PromiseInput\n        setAssetA={(a) => setAssetA(a)}\n        setAssetB={(a) => setAssetB(a)}\n        setAmountA={(a) => setAmountA(a)}\n        setAmountB={(a) => setAmountB(a)}\n        setTime={(t) => setTime(t)}\n        balanceAssetA={balanceAssetA}\n        assetADeclimals={assetADeclimals}\n      />\n      <CreatePromiseButton\n        createPromise={() => createPromise()}\n        approve={() => approve()}\n        approved={approved}\n        balanceAssetA={balanceAssetA}\n        amountA={amountA}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}