{"ast":null,"code":"var _jsxFileName = \"/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js\";\nimport React, { useEffect } from \"react\";\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\nexport default function CreatePromise({\n  web3,\n  prom,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  createPromise,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  amountA\n}) {\n  useEffect(() => {\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n\n  async function createPromise() {\n    await prom.methods.createPromise(amountA.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetA, amountB.toLocaleString(\"fullwide\", {\n      useGrouping: false\n    }), assetB, time.toString()).send({\n      from: account\n    }).then(result => {\n      console.log(\"created promise \" + result.hash);\n      setAssetA(null);\n      setAssetB(null);\n      setAmountA(null);\n      setAmountB(null);\n      setTime(null);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Create a Promise\"), React.createElement(PromiseInput, {\n    setAssetA: a => setAssetA(a),\n    setAssetB: a => setAssetB(a),\n    setAmountA: a => setAmountA(a),\n    setAmountB: a => setAmountB(a),\n    setTime: t => setTime(t),\n    balanceAssetA: balanceAssetA,\n    assetADeclimals: assetADeclimals,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(CreatePromiseButton, {\n    createPromise: () => createPromise(),\n    approve: () => approve(),\n    approved: approved,\n    balanceAssetA: balanceAssetA,\n    amountA: amountA,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/nanoissuperior/prom/client/src/pages/CreatePromise.js"],"names":["React","useEffect","PromiseInput","CreatePromiseButton","CreatePromise","web3","prom","setAssetA","setAssetB","setAmountA","setAmountB","setTime","createPromise","approve","createTokenInstance","checkAllowance","checkBalance","approved","balanceAssetA","assetADeclimals","amountA","assetA","assetInstance","utils","isAddress","methods","toLocaleString","useGrouping","amountB","assetB","time","toString","send","from","account","then","result","console","log","hash","a","t"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,mBAAP,MAAgC,sCAAhC;AAEA,eAAe,SAASC,aAAT,CAAuB;AACpCC,EAAAA,IADoC;AAEpCC,EAAAA,IAFoC;AAGpCC,EAAAA,SAHoC;AAIpCC,EAAAA,SAJoC;AAKpCC,EAAAA,UALoC;AAMpCC,EAAAA,UANoC;AAOpCC,EAAAA,OAPoC;AAQpCC,EAAAA,aARoC;AASpCC,EAAAA,OAToC;AAUpCC,EAAAA,mBAVoC;AAWpCC,EAAAA,cAXoC;AAYpCC,EAAAA,YAZoC;AAapCC,EAAAA,QAboC;AAcpCC,EAAAA,aAdoC;AAepCC,EAAAA,eAfoC;AAgBpCC,EAAAA;AAhBoC,CAAvB,EAiBZ;AACDnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIoB,MAAJ,EAAY;AACV,UAAIC,aAAJ,EAAmB;AACjBN,QAAAA,YAAY;AACZD,QAAAA,cAAc;AACf,OAHD,MAGO,IAAIV,IAAI,CAACkB,KAAL,CAAWC,SAAX,CAAqBH,MAArB,CAAJ,EAAkC;AACvCP,QAAAA,mBAAmB;AACpB;AACF;AACF,GATQ,EASN,CAACO,MAAD,EAASD,OAAT,CATM,CAAT;;AAWA,iBAAeR,aAAf,GAA+B;AAC7B,UAAMN,IAAI,CAACmB,OAAL,CACHb,aADG,CAEFQ,OAAO,CAACM,cAAR,CAAuB,UAAvB,EAAmC;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAnC,CAFE,EAGFN,MAHE,EAIFO,OAAO,CAACF,cAAR,CAAuB,UAAvB,EAAmC;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAnC,CAJE,EAKFE,MALE,EAMFC,IAAI,CAACC,QAAL,EANE,EAQHC,IARG,CAQE;AAAEC,MAAAA,IAAI,EAAEC;AAAR,KARF,EASHC,IATG,CASGC,MAAD,IAAY;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBF,MAAM,CAACG,IAAxC;AACAhC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAC,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAC,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAhBG,CAAN;AAiBD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,YAAD;AACE,IAAA,SAAS,EAAG6B,CAAD,IAAOjC,SAAS,CAACiC,CAAD,CAD7B;AAEE,IAAA,SAAS,EAAGA,CAAD,IAAOhC,SAAS,CAACgC,CAAD,CAF7B;AAGE,IAAA,UAAU,EAAGA,CAAD,IAAO/B,UAAU,CAAC+B,CAAD,CAH/B;AAIE,IAAA,UAAU,EAAGA,CAAD,IAAO9B,UAAU,CAAC8B,CAAD,CAJ/B;AAKE,IAAA,OAAO,EAAGC,CAAD,IAAO9B,OAAO,CAAC8B,CAAD,CALzB;AAME,IAAA,aAAa,EAAEvB,aANjB;AAOE,IAAA,eAAe,EAAEC,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAWE,oBAAC,mBAAD;AACE,IAAA,aAAa,EAAE,MAAMP,aAAa,EADpC;AAEE,IAAA,OAAO,EAAE,MAAMC,OAAO,EAFxB;AAGE,IAAA,QAAQ,EAAEI,QAHZ;AAIE,IAAA,aAAa,EAAEC,aAJjB;AAKE,IAAA,OAAO,EAAEE,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF;AAqBD","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport PromiseInput from \"../components/PromiseInput.js\";\nimport CreatePromiseButton from \"../components/CreatePromiseButton.js\";\n\nexport default function CreatePromise({\n  web3,\n  prom,\n  setAssetA,\n  setAssetB,\n  setAmountA,\n  setAmountB,\n  setTime,\n  createPromise,\n  approve,\n  createTokenInstance,\n  checkAllowance,\n  checkBalance,\n  approved,\n  balanceAssetA,\n  assetADeclimals,\n  amountA,\n}) {\n  useEffect(() => {\n    if (assetA) {\n      if (assetInstance) {\n        checkBalance();\n        checkAllowance();\n      } else if (web3.utils.isAddress(assetA)) {\n        createTokenInstance();\n      }\n    }\n  }, [assetA, amountA]);\n\n  async function createPromise() {\n    await prom.methods\n      .createPromise(\n        amountA.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetA,\n        amountB.toLocaleString(\"fullwide\", { useGrouping: false }),\n        assetB,\n        time.toString()\n      )\n      .send({ from: account })\n      .then((result) => {\n        console.log(\"created promise \" + result.hash);\n        setAssetA(null);\n        setAssetB(null);\n        setAmountA(null);\n        setAmountB(null);\n        setTime(null);\n      });\n  }\n\n  return (\n    <div>\n      <p>Create a Promise</p>\n      <PromiseInput\n        setAssetA={(a) => setAssetA(a)}\n        setAssetB={(a) => setAssetB(a)}\n        setAmountA={(a) => setAmountA(a)}\n        setAmountB={(a) => setAmountB(a)}\n        setTime={(t) => setTime(t)}\n        balanceAssetA={balanceAssetA}\n        assetADeclimals={assetADeclimals}\n      />\n      <CreatePromiseButton\n        createPromise={() => createPromise()}\n        approve={() => approve()}\n        approved={approved}\n        balanceAssetA={balanceAssetA}\n        amountA={amountA}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}